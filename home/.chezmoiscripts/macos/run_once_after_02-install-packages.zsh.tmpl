#!/bin/zsh

echo "â€º Installing Homebrew taps, brews and casks..."

{{ $taps := list
  "homebrew/aliases"
  "homebrew/bundle"
  "homebrew/command-not-found"
  "homebrew/services"
-}}

{{ $brews := list
  "ca-certificates"
  "openssl@3"
  "python@3.12"
  "archey4"
  "python@3.11"
  "awscli"
  "azure-cli"
  "bash-completion"
  "btop"
  "pcre2"
  "chezmoi"
  "libnghttp2"
  "curl"
  "folly"
  "fizz"
  "wangle"
  "fb303"
  "edencommon"
  "eza"
  "nettle"
  "unbound"
  "gnutls"
  "leptonica"
  "ffmpeg"
  "fzf"
  "gh"
  "git"
  "git-delta"
  "gnu-sed"
  "libgpg-error"
  "libgcrypt"
  "libksba"
  "pinentry"
  "gnupg"
  "go"
  "jq"
  "lazydocker"
  "lazygit"
  "mas"
  "neovim"
  "nushell"
  "nvm"
  "oh-my-posh"
  "pandoc"
  "pinentry-mac"
  "pipx"
  "ripgrep"
  "terraform-docs"
  "tfenv"
  "tmux"
  "watchman"
  "wget"
  "yarn"
  "zsh-autosuggestions"
-}}

{{ $casks := list
  "blackhole-2ch"
  "cyberduck"
  "devtoys"
  "docker"
  "dotnet-sdk"
  "firefox"
  "font-caskaydia-cove-nerd-font"
  "font-fira-code-nerd-font"
  "font-hasklug-nerd-font"
  "git-credential-manager"
  "google-chrome"
  "google-cloud-sdk"
  "google-drive"
  "iina"
  "iptvnator"
  "keka"
  "kitty"
  "ledger-live"
  "microsoft-auto-update"
  "microsoft-edge"
  "plex-media-server"
  "postman"
  "powershell"
  "private-internet-access"
  "proton-drive"
  "react-native-debugger"
  "signal"
  "spotify"
  "subler"
  "telegram"
  "transmission"
  "visual-studio-code"
  "vlc"
-}}

brew bundle --cleanup --no-lock --file=- <<EOF
{{ range ($taps | sortAlpha | uniq) -}}
tap "{{ . }}"
{{ end -}}
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
{{ range ($casks | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}
EOF

echo "Done."
